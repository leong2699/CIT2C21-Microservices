<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="assets/mystyle.css">
    <title>SG Mall - Manage Account</title>

</head>

<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark bg-grad1">
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse1">
            <a class="navbar-brand">
                <img src="assets/logo.png" width="30" height="30" class="d-inline-block align-top" alt=""></a>
            <ul class="nav navbar-nav flex-row">
                <li class="nav-item active">
                    <a class="nav-link" href="home.html">Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="product.html">Products</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="promotion.html">Promotions</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="admin.html" id="adminBtn" style="display: none;">Admin</a>
                </li>
            </ul>
            <ul class="nav navbar-nav flex-row ml-md-auto d-none d-md-flex">
                <li class="nav-item active">
                    <a class="nav-link" id="cartLink" href="cart.html">Cart</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="usernameID"></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" id="accountLink" href="manage-account.html" style="display: none;">Manage
                        Account</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" id="loginLink" href="login.html">Login</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" id="registerLink" href="register.html">Register</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" id="logoutLink" href="login.html" style="display: none;">Logout</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container" id="cardContainer" style="display:none">
        <div class="w-50 px-3 py-3 pt-md-4 pb-md-4 mx-auto text-center">
            <h1 class="display-4 font-weight-bold">Manage Account</h1>
            <p class="lead">Handle your profile and orders</p>
        </div>

        <!-- Cards container -->
        <div class="container text-center">
            <div class="row">

                <div class="col-lg-4 col-md-6 col-sm-10 pb-4 d-block m-auto">
                    <div class="card-item" style="box-shadow: 0px 0px 30px -7px rgba(0,0,0,0.29);">
                        <div class="pt-4 pb-3" style="letter-spacing: 2px">
                            <h4>Profile</h4>
                        </div>
                        <div class="card-img pb-1 text-primary color-primary-text ">
                            <h1 style="font-weight: 1000; font-size: 3.5em;">
                                <span style="   font-size: 20px;"></span>
                                <img src="https://img.icons8.com/plasticine/64/000000/user-group-man-man.png">
                            </h1>
                        </div>
                        <div class="card-description">
                            <ul class="list-unstyled mt-3 mb-4">
                                <li class="pl-3 pr-3">Update your personal information</li>
                            </ul>
                        </div>
                        <div class="card-button pb-4">
                            <button type="button" class="btn btn-lg btn-danger w-75 bg-grad1" id="manageProfile">Manage
                                Profile</button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6 col-sm-10 pb-4 d-block m-auto">
                    <div class="card-item" style="box-shadow: 0px 0px 30px -7px rgba(0,0,0,0.29);">
                        <div class="pt-4 pb-3" style="letter-spacing: 2px">
                            <h4>Orders</h4>
                        </div>
                        <div class="card-img pb-1 text-primary color-primary-text ">
                            <h1 style="font-weight: 1000; font-size: 3.5em;">
                                <span style="font-size: 20px;"></span>
                                <img src="https://img.icons8.com/dusk/64/000000/order-history.png">
                            </h1>
                        </div>
                        <div class="card-description">
                            <ul class="list-unstyled mt-3 mb-4">
                                <li class="pl-3 pr-3">Handle your orders</li>
                            </ul>
                        </div>
                        <div class="card-button pb-4">
                            <button type="button" class="btn btn-lg btn-danger w-75 bg-grad1" id="manageOrders">Manage
                                Orders</button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6 col-sm-10 pb-4 d-block m-auto">
                    <div class="card-item" style="box-shadow: 0px 0px 30px -7px rgba(0,0,0,0.29);">
                        <div class="pt-4 pb-3" style="letter-spacing: 2px">
                            <h4>Reviews</h4>
                        </div>
                        <div class="card-img pb-1 text-primary color-primary-text ">
                            <h1 style="font-weight: 1000; font-size: 3.5em;">
                                <span style="font-size: 20px;"></span>
                                <img src="https://img.icons8.com/dusk/64/000000/rating.png">
                            </h1>
                        </div>
                        <div class="card-description">
                            <ul class="list-unstyled mt-3 mb-4">
                                <li class="pl-3 pr-3">Manage your reviews</li>
                            </ul>
                        </div>
                        <div class="card-button pb-4">
                            <button type="button" class="btn btn-lg btn-danger w-75 bg-grad1" id="manageReviews">View
                                Reviews</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

    <script>
        var userName = sessionStorage.getItem("username");
        var token = sessionStorage.getItem("token");
        var Role = sessionStorage.getItem("Role");
        if (token != null) {
            console.log(userName);
            userIsLoggedIn();
        } else {
            window.location.href = "login.html";
            $('#cartLink').hide();
        }

        $(document).on("click", "#logoutLink", function () {
            logout();
        })

        function logout() {
            sessionStorage.clear();
        }

        function userIsLoggedIn() {
            $('#cardContainer').show("size", 500);
            $('#usernameID').append(userName);
            $('#loginLink').hide();
            $('#registerLink').hide();
            $('#accountLink').show();
            $('#logoutLink').show();
            if (Role == "Admin") {
                isAdmin()
            } else {
                console.log("user");
            }

        }

        function isAdmin() {
            $('#adminBtn').show();
        }

        $(document).on("click", "#manageProfile", function () {
            window.location.href = "my-profile.html";
        })

        $(document).on("click", "#manageOrders", function () {
            window.location.href = "my-orders.html";
        })

        $(document).on("click", "#manageReviews", function () {
            window.location.href = "my-reviews.html";
        })


    </script>
</body>

</html>